---
title: مشاكل المصادقة
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 01/25/2021
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "7748"
- "9004339"
ms.openlocfilehash: 53bd0d8f8edaead519d0282239d3a6d338b297b9
ms.sourcegitcommit: 029c4697b77ce996d41ca74c4fa86de1bb84bd99
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 01/25/2021
ms.locfileid: "49974160"
---
# <a name="authentication-issues"></a>مشاكل المصادقة

**هل تبحث عن معلومات حول رموز أخطاء آدستس التي يتم إرجاعها من خدمه الرمز المميز للامان ل Azure Active Directory (Azure AD) ؟** راجع [رموز أخطاء التخويل والمصادقة في AZURE AD](https://docs.microsoft.com/azure/active-directory/develop/reference-aadsts-error-codes) للعثور علي وصف الخطا آدستس والتصحيحات وبعض الحلول البديلة المقترحة.

يمكن ان تكون أخطاء التخويل نتيجة لعده مشاكل مختلفه ، معظمها تنشئ خطا 401 أو 403. علي سبيل المثال ، تستطيع المشاكل التالية الوصول إلى أخطاء التخويل بالبالكامل:

- [تدفقات الاستحواذ علي رمز الوصول](https://docs.microsoft.com/azure/active-directory/develop/authentication-vs-authorization) غير صحيحه 
- [نطاقات الأذونات](https://docs.microsoft.com/azure/active-directory/develop/v2-permissions-and-consent) المكونة بشكل سيئ 
- نقص [الموافقة](https://docs.microsoft.com/azure/active-directory/develop/howto-convert-app-to-be-multi-tenant#understanding-user-and-admin-consent)

لحل أخطاء التخويل الشائعة ، جرب الخطوات المذكورة أدناه التي تطابق الخطا الذي تتلقاه. قد تنطبق أكثر من خطوه واحده علي الخطا الذي تتلقاه.

- **401 خطا غير مصرح به: هل الرمز المميز صحيح ؟**

تاكد من ان تطبيقك يقوم بتقديم رمز مميز صحيح للوصول إلى Microsoft Graph كجزء من الطلب. يعني هذا الخطا غالبا ان الرمز المميز للوصول قد يكون مفقودا في راس طلب مصادقه HTTP أو ان الرمز المميز غير صالح أو منتهي الصلاحية. نوصي بشده باستخدام مكتبه المصادقة من Microsoft (مسال) للحصول علي الحصول علي رمز الوصول. بالاضافه إلى ذلك ، قد يحدث هذا الخطا إذا حاولت استخدام رمز مميز للوصول مفوض ممنوح لحساب Microsoft شخصي للوصول إلى واجهه برمجه التطبيق التي تدعم حسابات العمل أو المؤسسة التعليمية فقط (حسابات المؤسسات).

**403 خطا حظر: هل اخترت مجموعه الأذونات المناسبة ؟**

تاكد من انك قمت بطلب مجموعه الأذونات الصحيحة استنادا إلى واجات برمجه تطبيقات Microsoft Graph الخاصة بك. يتم توفير الأذونات الموصي بها الأقل تميزا في كل مواضيع أسلوب مرجع API ل Microsoft Graph. بالاضافه إلى ذلك ، يجب ان يتم منح هذه الأذونات إلى التطبيق من قبل مستخدم أو مسؤول. تحدث الأذونات بشكل طبيعي من خلال صفحه الموافقة أو استخدام ريش تسجيل تطبيق Azure Portal. من النصليه **الإعدادات** الخاصة بالتطبيق ، انقر فوق **الأذونات المطلوبة**، ثم انقر فوق **منح الأذونات**. لمزيد من المعلومات، اطلع على:

- [أذونات Microsoft Graph](https://docs.microsoft.com/graph/permissions-reference) 
- [فهم أذونات Azure AD والموافقة عليه](https://docs.microsoft.com/azure/active-directory/develop/v2-permissions-and-consent)

**403 خطا حظر: هل حصل تطبيقك علي رمز مميز لمطابقه الأذونات المختارة ؟**

تاكد من ان أنواع الأذونات المطلوبة أو الممنوحة تطابق نوع الرمز المميز للوصول الذي تكتسبه التطبيق. قد تحتاج إلى المطالبة بأذونات التطبيق ومنحها ولكن باستخدام رموز مميزه لتدفق التعليمات البرمجية التفاعلية بدلا من الرموز المميزة لتدفق بيانات اعتماد العميل ، أو طلب الأذونات المفوضة ومنحها ولكن باستخدام الرموز المميزة لتدفق التعليمات البرمجية المفوضة

للحصول علي مزيد من المعلومات المتعلقة بالحصول علي الرموز المميزة ، راجع:

- [الحصول علي حق الوصول بالنيابة عن المستخدمين والأذونات المفوضة](https://docs.microsoft.com/graph/auth-v2-user) 
- [التدفق اللغوي لتخويل Azure AD v 2.0-OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) 
- [الحصول علي access بدون مستخدم (خدمه البرنامج الخفي) وأذونات التطبيق](https://docs.microsoft.com/graph/auth-v2-service) 
- [تدفق بيانات اعتماد عميل Azure AD v 2.0-OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow)

**403 خطا حظر: أعاده تعيين كلمه المرور**

حاليا ، لا توجد أذونات لخدمه البرنامج الخفي لاذن التطبيق والتي تسمح باعاده تعيين كلمات مرور المستخدمين. يتم دعم واجات برمجه التطبيقات هذه فقط باستخدام تدفقات التعليمات البرمجية التي تم تفويضها بواسطة مسؤول مسجل للدخول. لمزيد من المعلومات ، راجع [أذونات Microsoft Graph](https://docs.microsoft.com/graph/permissions-reference).

**403 محظور: هل يملك المستخدم حق الوصول وهم مرخصون ؟**

بالنسبة إلى تدفقات التعليمات البرمجية المفوضة ، يقوم Microsoft Graph بتقييم ما إذا كان الطلب مسموحا استنادا إلى الأذونات الممنوحة للتطبيق والأذونات التي يملكها المستخدم الذي تم تسجيل دخوله. بشكل عام ، يشير هذا الخطا إلى ان المستخدم ليس مميزا بما يكفي لتنفيذ الطلب **أو** ان المستخدم غير مرخص للبيانات التي يتم الوصول اليها. يمكن فقط للمستخدمين الذين لديهم الأذونات المطلوبة أو التراخيص اجراء الطلب بنجاح.

**403 محظور: هل حددت API للمورد الصحيح ؟**

تقوم خدمات API مثل Microsoft Graph بالتحقق من تطابق المطالبة *الaudه* (الجماعة المستهدفة) في الرمز المميز للوصول الذي تم تلقيه بالقيمة التي يتوقعها لنفسها ، وإذا لم يتم ذلك ، سيحدث خطا في 403. الخطا الشائع الذي يتسبب في هذا الخطا هو محاولة استخدام رمز مميز تم الحصول عليه من أجل واجات برمجه تطبيقات Azure AD Graph أو Outlook APIs أو SharePoint/OneDrive للاتصال ب Microsoft Graph (أو العكس). تاكد من ان المورد (أو النطاق) الذي يقوم بالحصول علي رمز مميز يتطابق مع واجهه برمجه التطبيقات (API) التي يقوم التطبيق بالاتصال بها.

**400 طلب غير صالح أو 403 محظور: هل يتوافق المستخدم مع نهج الوصول الشرطي (CA) الخاصة بالمؤسسة الخاصة به ؟**

استنادا إلى نهج الوصول الشرطي (CA) الخاص بالمؤسسة ، قد يكون المستخدم الذي يقوم بالوصول إلى موارد Microsoft Graph عبر تطبيقك تشالينجيد للحصول علي معلومات اضافيه غير موجودة في الرمز المميز للوصول الذي حصلت عليه في الأصل. في هذه الحالة ، يتلقى التطبيق **400 بالخطا *interaction_required*** اثناء الحصول علي رمز الوصول المميز أو 403 مع ظهور الخطا ***Insufficient_claims*** عند الاتصال ب Microsoft Graph. في كلتا الحالتين ، تحتوي استجابه الخطا علي معلومات اضافيه يمكن تقديمها إلى نقطه النهاية المخولة لارتياب المستخدم للحصول علي معلومات اضافيه (مثل المصادقة متعددة العوامل أو تسجيل الاجهزه).

لمزيد من المعلومات المتعلقة بالوصول الشرطي ، راجع:

- [معالجه تحديات الوصول الشرطي باستخدام مسال](https://docs.microsoft.com/azure/active-directory/develop/msal-error-handling-dotnet#conditional-access-and-claims-challenges) 
- [إرشادات المطور ل Azure Active directory access الشرطي](https://docs.microsoft.com/azure/active-directory/develop/v2-conditional-access-dev-guide)

**_نهاية دعم مكتبه المصادقة ل Azure active directory (ADAL) و AZURE AD GRAPH API (رسم بياني AAD)_* _

- بدءا من 30 يونيو 2020 ، فلن نضيف اي ميزات جديده إلى مكتبه مصادقه Azure Active directory (ADAL) و Azure AD Graph API (رسم بياني ل AAD). سنستمر في توفير الدعم التقني وتحديثات الأمان ولكنه لن يوفر تحديثات الميزات بعد الآن.
- بدءا من 30 يونيو 2022 ، سنقوم بإنهاء الدعم ل ADAL و AAD الرسم البياني ولن يوفر الدعم التقني أو تحديثات الأمان.
    - ستستمر التطبيقات التي تستخدم ADAL في إصدارات نظام التشغيل الموجودة في العمل بعد هذه المرة ولكن لن تحصل علي اي دعم تقني أو تحديثات أمان.
    - قد لا تتلقي التطبيقات التي تستخدم الرسم البياني AAD بعد هذه الفترة الاستجابات من نقطه نهاية الرسم البياني في AAD.

_ *الترحيل ADAL**

نوصي بالتحديث إلى [مكتبه مصادقه Microsoft (مسال)](https://docs.microsoft.com/azure/active-directory/develop/v2-overview)، التي تحتوي علي أحدث الميزات وتحديثات الأمان. هذه التوصية في سياق Microsoft ترحيل تطبيقاتها إلى مسال بواسطة الموعد النهائي لنهاية الدعم. ان الهدف من ترحيل تطبيقات Microsoft إلى مسال هو ضمان مزايا التطبيقات من الأمان وتحسينات الميزات التي مسالها.

- [قراءه الاسئله المتداولة حول ADAL](https://docs.microsoft.com/azure/active-directory/develop/msal-migration#frequently-asked-questions-faq) 
- [تعرف علي كيفيه ترحيل التطبيقات علي أساس لكل نظام أساسي](https://docs.microsoft.com/azure/active-directory/develop/msal-migration#frequently-asked-questions-faq) 
- إذا كنت بحاجه إلى المساعدة في التعرف علي التعليمات البرمجية الخاصة بالتطبيقات التي تستخدمها ADAL ، فننصحك بمراجعه جميع برامج المصدر الخاصة بكل تطبيق ، ويمكنك الوصول إلى اي بائعين مستقلين (إيسفس) أو موفري التطبيق. يمكن ان يوفر لك دعم Microsoft أيضا قائمه بكل تطبيقات ADAL التابعة ل Microsoft في نطاق المستاجر الخاص بك.

**ترحيل الرسم البياني AAD**

بالنسبة إلى التطبيقات التي تستخدم الرسم البياني AAD ، اتبع الإرشادات الخاصة بنا [لترحيل تطبيقات الرسومات البيانية في AZURE AD إلى Microsoft Graph](https://docs.microsoft.com/graph/migrate-azure-ad-graph-planning-checklist?view=graph-rest-1.0&preserve-view=true).

- [توفر قائمه الاختيار الخاصة بالترحيل نقطه بدء](https://docs.microsoft.com/graph/migrate-azure-ad-graph-planning-checklist). 
- يعرض مدخل تسجيلك في Azure app التطبيقات التي تستخدم الرسم البياني AAD. نوصي بمراجعه كل التعليمات البرمجية المصدر لتطبيقاتك ، وإذا كان ذلك ممكنا ، فيمكنك الوصول إلى اي إيسفس أو موفري التطبيق. يمكن ان يوفر لك دعم Microsoft أيضا معلومات حول كل استخدامات الرسم البياني لكل AAD في المستاجر.

 










